<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: Num::Linalg::DFloat
  
    &mdash; Documentation by YARD 0.8.6.2
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (D)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Num.html" title="Num (module)">Num</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Linalg.html" title="Num::Linalg (module)">Linalg</a></span></span>
     &raquo; 
    <span class="title">DFloat</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: Num::Linalg::DFloat
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">ext/linalg.c</dd>
  
</dl>
<div class="clear"></div>








  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dot_mm-class_method" title="dot_mm (class method)">+ (Object) <strong>dot_mm</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inv-class_method" title="inv (class method)">+ (Object) <strong>inv</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_unit-class_method" title="set_unit (class method)">+ (Object) <strong>set_unit</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#solve-class_method" title="solve (class method)">+ (Object) <strong>solve</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>printf(“info=%dn”, info);.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="dot_mm-class_method">
  
    + (<tt>Object</tt>) <strong>dot_mm</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/linalg.c', line 138</span>

static VALUE
num_dfloat_s_dot_mm( VALUE mod, VALUE a1, VALUE a2 )
{
    ndfunc_t *func;
    VALUE v;
    narray_t *na1, *na2;
    size_t n11,n12,n21,n22;

    GetNArray(a1,na1);
    GetNArray(a2,na2);
    NA_CHECK_DIM_GE(na1,2);
    NA_CHECK_DIM_GE(na2,2);
    NA_CHECK_CONTIGUOUS_LAST_DIM(na1,sizeof(double));
    NA_CHECK_CONTIGUOUS_LAST_DIM(na2,sizeof(double));
    n11 = na1-&gt;shape[na1-&gt;ndim-2]; // k
    n12 = na1-&gt;shape[na1-&gt;ndim-1]; // m
    n21 = na2-&gt;shape[na2-&gt;ndim-2]; // n
    n22 = na2-&gt;shape[na2-&gt;ndim-1]; // k
    if (n11!=n22) {
	rb_raise(num_eShapeError,&quot;matrix dimension mismatch&quot;);
    }
    func = ndfunc_alloc( dfloat_dot_mm_loop, NO_LOOP,
			 2, 1, cDFloat, cDFloat, cDFloat );
    func-&gt;args[0].dim = 2;
    func-&gt;args[1].dim = 2;
    func-&gt;args[2].dim = 2;
    func-&gt;args[2].aux.shape_p = ALLOC_N(size_t,2);
    func-&gt;args[2].aux.shape_p[0] = n21; // n
    func-&gt;args[2].aux.shape_p[1] = n12; // m
    //printf(&quot;%lx\n&quot;, func-&gt;args[2].aux.shape_p);
    //printf(&quot;n11=%d, n12=%d, n21=%d, n22=%d\n&quot;, n11, n12, n21, n22);
    v = ndfunc_execute( func, 2, a1, a2 );
    ndfunc_free(func);
    return v;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inv-class_method">
  
    + (<tt>Object</tt>) <strong>inv</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


326
327
328
329
330
331
332
333
334
335
336
337
338
339</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/linalg.c', line 326</span>

static VALUE
num_dfloat_s_inv( VALUE mod, VALUE a1 )
{
    VALUE unit;
    narray_t *na;
    size_t shape[2];

    //GetNArray(a1,na);
    //shape[0] = SHAPE_AT(na,-2);
    //shape[1] = SHAPE_AT(na,-1);
    //unit = rb_narray_new( cDFloat, 2, shape );
    unit = num_dfloat_s_unit( mod, na_copy(a1) );
    return num_dfloat_s_solve( mod, a1, unit );
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_unit-class_method">
  
    + (<tt>Object</tt>) <strong>set_unit</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


310
311
312
313
314
315
316
317
318
319
320
321
322
323
324</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/linalg.c', line 310</span>

static VALUE
num_dfloat_s_unit( VALUE mod, VALUE self )
{
    ndfunc_t *func;
    narray_t *na;

    GetNArray(self,na);
    //NA_CHECK_DIM_GE(na,2);
    func = ndfunc_alloc( dfloat_unit_loop, NO_LOOP,
			 1, 0, cDFloat );
    func-&gt;args[0].dim = 2;
    ndfunc_execute( func, 1, self );
    ndfunc_free(func);
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="solve-class_method">
  
    + (<tt>Object</tt>) <strong>solve</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>printf(“info=%dn”, info);</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/linalg.c', line 233</span>

static VALUE
num_dfloat_s_solve( VALUE mod, VALUE a1, VALUE a2 )
{
    ndfunc_t *func;
    VALUE  v, opt;
    narray_t *na1, *na2;
    size_t  n11, n12, n21, n22;
    double *data;

    GetNArray(a1,na1); // A
    GetNArray(a2,na2); // B
    NA_CHECK_DIM_GE(na1,2);
    NA_CHECK_DIM_GE(na2,2);
    n11 = na1-&gt;shape[na1-&gt;ndim-2]; // n
    n12 = na1-&gt;shape[na1-&gt;ndim-1]; // n
    n21 = na2-&gt;shape[na2-&gt;ndim-2]; // n
    n22 = na2-&gt;shape[na2-&gt;ndim-1]; // nrhs
    if (n11!=n12 || n11!=n21) {
	rb_raise(num_eShapeError,&quot;matrix dimension mismatch&quot;);
    }
    func = ndfunc_alloc( dfloat_solve_loop, NO_LOOP,
			 2, 2, cDFloat, cDFloat, cDFloat, cInt32 );
    func-&gt;args[0].dim = 2;
    func-&gt;args[1].dim = 2;
    func-&gt;args[2].dim = 2;
    func-&gt;args[2].aux.shape_p = ALLOC_N(size_t,2);
    func-&gt;args[2].aux.shape_p[0] = n21; // n
    func-&gt;args[2].aux.shape_p[1] = n22; // nrhs
    func-&gt;args[2].init = a2; // copy B to X
    func-&gt;args[3].dim = 1;
    func-&gt;args[3].aux.shape[0] = n11;
    //printf(&quot;%lx\n&quot;, func-&gt;args[2].aux.shape_p);
    //printf(&quot;n11=%d, n12=%d, n21=%d, n22=%d\n&quot;, n11, n12, n21, n22);

    // Buffer memory
    data = ALLOC_N(double, n11*n12);
    opt = Data_Wrap_Struct(rb_cData,0,0,data);
    // execution
    v = ndfunc_execute( func, 3, a1, a2, opt );
    ndfunc_free(func);
    return RARRAY_PTR(v)[0];
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Sun Jul 21 11:28:50 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.6.2 (ruby-2.0.0).
</div>

  </body>
</html>